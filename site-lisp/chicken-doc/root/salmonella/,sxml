((tags "egg") (section 2 "Salmonella -- a tool for testing Chicken eggs" (p "Salmonella is a tool for testing Chicken eggs from a local or remote repository.") (p "Salmonella fetches a list of eggs from a local egg repository, and tries to install each egg, reporting failure or success.  Each egg is individually tested, that is, salmonella sets the local destination repository empty before testing an egg (it's like installing an egg on a fresh repository, so broken dependencies can be spotted).") (p "Salmonella is used to test the Chicken core source code and all the eggs every day.  You can check the reports at " (link "http://tests.call-cc.org" "tests.call-cc.org") ".") (section 3 "Some salmonella features:" (ul (li "Automatic eggs fetching and installation testing") (li "Resuming ") (li "Possibility of hooking system's package manager (e.g., apt, rpm) for installing OS packages eggs might depend on") (li "Logging and verbosity control") (li "Execute eggs tests") (li "Check for the existence of wiki documentation for eggs"))) (section 3 "Requirements" (p "None")) (section 3 "Usage" (p "Salmonella is a command line tool.  Salmonella's command line arguments' syntax is like Scheme's.") (pre " Usage: salmonella -h | -help | --help | -?\n        salmonella <conf-file>\n        salmonella <options>\n \n <options> are Scheme expressions. <conf-file> is a file which may\n contain the same Scheme expressions as <options>'s. The following\n expressions are recognized:\n \n              == Expression ==                   == Default ==\n  (csi            \\\"<path to csi>\\\")                 csi\n  (chicken-install \\\"<path to chicken-install>\\\")    chicken-install\n  (chicken-install-args \\\"<args>\\\"                 a procedure which returns chicken-install options\n  (env-vars \\\"<environment variables settings>\\\" CHICKEN_INCLUDE_PATH=(repo-test-lib-dir)\n                                                 CHICKEN_INSTALL_PREFIX=(repo-test-dir)\n  (repo-test-dir \\\"<path to repo-test-dir>\\\")    `pwd`/salmonella-repo\n  (chicken-eggs-dir \\\"<path to SVN dir>\\\")       `pwd`/chicken-eggs/release/4\n  (wiki-dir \\\"<path to SVN dir>\\\")               `pwd`/chicken-eggs/wiki/eggref/4\n  (skip-eggs (list \\\"egg1\\\" \\\"egg2\\\" ...))         '()\n  (verbose <bool>)                               #f\n  (logfile \\\"filename\\\")                         salmonella.log\n  (egg-information (lambda () ...))              a procedure which returns egg information for all eggs found in (chicken-eggs-dir)\n  (eggs (lambda () ...))                         a procedure which returns the names of all eggs found in (chicken-eggs-dir)\n  (system-deps \\\"filename\\\")                     #f\n  (pkg-manager \\\"system pkg manager & args\\\")    #f\n  (resume <bool>)                                #f\n  (dont-ask <bool>)                              #f\n  (progress-file \\\"filename\\\")                   salmonella.progress\n  (dont-ask <bool>)                              #f\n  (progress-file \\\"filename\\\")                   salmonella.progress\n  (html-output \\\"dirname\\\")                      salmonella-report.  If #f, no HTML output\n  (dep-graphs-dir \\\"dirname\\\")                   (html-output)/dep-graphs\n  (dep-graphs-webdir \\\"dirname\\\")                dep-graphs\n  (css-file \\\"filename\\\")                        #f\n  (->html \\\"filename\\\")                          #f\n  (base-uri \\\"uri\\\")                             /\n  (run-tests <bool>)                             #f\n Example:\n \n  salmonella '(chicken-install \\\"/usr/local/chicken/bin/chicken-install\\\") (verbose #t)'") (section 4 "Options" (ul (li (tt "chicken-install") ": full path to the " (tt "chicken-install") " program. Default is " (tt "\"chicken-install\"") ".") (li (tt "chicken-install-args") ": a procedure which returns arguments to be passed to " (tt "chicken-install") ".  Default is " (tt "-prefix (repo-test-dir) -t local -l (default-chicken-eggs-dir)") ".") (li (tt "env-vars") ": environment variable settings to be applied when chicken-install is invoked.  Default is " (tt "CHICKEN_REPOSITORY=(repo-test-dir) CHICKEN_INCLUDE_PATH=(repo-test-dir)") " (where " (tt "(repo-test-dir)") " is a salmonella parameter).") (li (tt "repo-test-dir") ": full path to the the directory salmonella will use for testing the installation og eggs. Default is " (tt "\"salmonella-repo\"") ".") (li (tt "skip-eggs") ": list of eggs to skip from testing. Default is " (tt "'()") ".") (li (tt "eggs") ": a zero-argument procedure which should return a list of egg names (strings).") (li (tt "verbose") ": controls if salmonella should be verbose.  Default is " (tt "#f") ".") (li (tt "dont-ask") ": salmonella won't ask any question before running and will use the default values for parameters not explicitly set.  Default is " (tt "#f") ".") (li (tt "system-deps") ": path to a file indicating which OS packages should be installed when testing eggs.  The file format is:")) (pre "  (egg1 package1 package2 ... packagen)\n  (egg2 package1 package2 ... packagen)") (p "This option should be used with the " (tt "pkg-manager") " option.  Default is " (tt "#f") ".") (ul (li (tt "chicken-eggs-dir") ": path to the directory containing the source code for eggs") (li (tt "wiki-dir") ": path to the directory containing eggs documentation in wiki format") (li (tt "run-tests") ": (a boolean) when " (tt "#t") ", indicates that salmonella should execute egg tests.") (li (tt "pkg-manager") ": path to the system package manager and its arguments.  It's used with the " (tt "system-deps") " option to install system packages which some eggs depend on. Default is " (tt "#f") ".") (li (tt "logfile") ": path to the file where logging information is stored. Default is " (tt "\"salmonella.log\"") ".") (li (tt "resume") ": tells salmonella that it should continue from the point it last stopped.  Salmonella uses information from the file indicated by the " (tt "progress-file") ". Default is " (tt "#f") ".") (li (tt "progress-file") ": keeps track of which eggs were already tested (useful for resuming -- see the " (tt "resume") " option). Default is " (tt "\"salmonella.progress\"") ".") (li (tt "html-output") ": path to the directory where the HTML output should be saved. If the directory exists, it will be deleted. If " (tt "#f") ", no HTML output is generated.  Default is " (tt "\"salmonella-report\"") ".") (li (tt "css-file") ": CSS file to be used in the HTML-formated output. Default is " (tt "#f") " -- a built-in CSS code is used."))))))