(type egg)
(signature "iconv egg")
(timestamp 1284907262.0)
(sxml ((tags "eggs" "iconv" "charset" "characters") (section 2 "Introduction" (p "Allows conversion of multi-byte sequences from one character set (encoding) to another by means of the iconv functionality present in glibc (and thus is probably not very portable).")) (section 2 "Examples" (section 3 "Converting" (highlight scheme "(use iconv)\n\n; First we obtain a conversion descriptor.  In this case we will convert\n; from latin1 to utf-8:\n\n(define *desc* (iconv-open \"utf-8\" \"latin1\"))\n\n; Read lines from the input, convert them and write them:\n\n(let loop ((line (read-line)))\n  (unless (eof-object? line)\n    (display (iconv *desc* line))\n    (newline)\n    (loop (read-line))))"))) (section 2 "Authors" (p "This egg was created by " (int-link "Alejandro Forero Cuervo") ".")) (section 2 "License" (p "The iconv egg for Chicken Scheme is in the public domain and may be reproduced or copied without permission from its author.  Citation of the source is appreciated.")) (section 2 "Conversion" (section 3 "iconv-open" (pre "[procedure] (iconv-open TOCODE FROMCODE)") (p "Allocate a conversion descriptor suitable for converting byte sequences from character encoding " (tt "FROMCODE") " (a string) to character encoding " (tt "TOCODE") " (a string).") (p "The values permitted for " (tt "FROMCODE") " and " (tt "TOCODE") " and the supported combinations are system dependent.  For  the  GNU  C library,  the permitted values are listed by the " (tt "iconv --list") " command, and all combinations of the listed values are supported.") (p "The resulting conversion descriptor can be used with " (tt "iconv") " any number of times.")) (section 3 "iconv" (pre "[procedure] (iconv CD SRC [INVALID [DSTLEN]])") (p "The argument cd must be a conversion descriptor created using the function " (tt "iconv-open") ".  " (tt "iconv") " converts the multibyte sequence " (tt "SRC") " (a string) according to the character sets specified when " (tt "CD") " was created.") (p "If an invalid character is found (because of an invalid or incomplete multibyte character sequence), one byte is skipped from the input and the string " (tt "INVALID") ", which defaults to \"?\", is used.") (p (tt "DSTLEN") " is an integer specifying the initial size for the buffer where the results are stored.  The buffer will be dynamically adjusted to hold the entire result.") (p "The resulting string is returned (or " (tt "#f") " if the implementation runs out of memory)."))) (section 2 "Version history" (dl (dt "1.5") (dd "Use of 'foreign-safe-lambda*'. [Kon Lovett]") (dt "1.4") (dd "Links with libiconv when " (tt "(software-version)") " is " (tt "unknown") ".  This is the case of Cygwin, which requires libiconv.  This was suggested by Dekai Wu.") (dt "1.3") (dd "Links with libiconv on Mac OS X.") (dt "1.2") (dd "Uses callback to allocate result buffer.") (dt "1.1") (dd "First release.")))))
