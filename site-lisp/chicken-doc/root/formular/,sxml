((tags "egg") (section 2 "formular" (p "Processing of CGI email forms.") (toc) (section 3 "Introduction" (p (link "http://www.scriptarchive.com/formmail.html" "FormMail") " is an HTML form to email gateway that receives the results of an HTML form and sends them to the specified email recipients.") (p "The " (tt "formular") " library contains a collection of routines for parsing emails generated by FormMail. The emails can be read either from an s-expression, or from a text file in Unix mbox format, via the " (tt "mbox") " library.") (p "There are two programs included with the library, " (tt "form2wiki") " and " (tt "form2txt") ". These programs read messages generated by FormMail from a Unix mbox file, and generate a representation of the form data in wiki format or text format.") (p "This egg includes a copy of NMS FormMail Version 3.14c1 that has been modified to 1) include the submitted fields in the confirmation email; 2) use quotation marks to enclose field text that contains newline characters; 3) escape the submitted text in the notification email.")) (section 3 "Library procedures" (def (sig (procedure "mbox-messages->tree:: [MESSAGE] -> TREE" (id mbox-messages->tree))) (p "Given a list of messages created by the " (tt "mbox-file->messages") " procedure in the " (int-link "mbox") " library, this procedure returns an ordered dictionary structure, where the key is the email address of the form sender, and the value is the list of all forms submitted by that sender. The API of the dictionary object follows that of the " (int-link "rb-tree") " library."))) (section 3 "Usage of form2wiki and form2txt" (pre "form2wiki [options...]  ") (p "The following options are recognized:") (dl (dt "--exclude=FROM1") (dd "FROM2:..." "   : specify a colon-separated list of entries to exclude (default is none )") (dt "--include=FROM1") (dd "FROM2:..." "   : specify a colon-separated list of entries to include (default is all )") (dt "--after-date=N") (dd "omit entries with date before N (given in seconds)") (dt "--flimits=FIELD1") (dd "LIMIT1,..." " : specify a comma-separated list of fields and character limits (default is none )") (dt "--fields=FIELD1") (dd "FIELD2:..." "  : specify a colon-separated list of fields to process (default is all fields )") (dt "--mbox-path=PATH") (dd "specify path to input mbox (default: mbox)") (dt "--order=N") (dd "specify order of form id (default: 3)") (dt "--prefix=STRING") (dd "specify prefix for wiki page title (default: Form Submission)") (dt "--read-alist=FILE") (dd "read an alist representation from FILE (mbox-path is ignored)") (dt "-h, --help") (dd "Print help")) (pre "form2txt [options...] operands ") (p "The following options are recognized:") (dl (dt "--exclude=FROM1") (dd "FROM2" "  : specify a colon-separated list of entries to exclude (default is none )") (dt "--after-date=N") (dd "omit entries with date before N (given in seconds)") (dt "--fields=FIELD1") (dd "FIELD" "  : specify a colon-separated list of fields to process (default is all fields )") (dt "--mbox-path=PATH") (dd "specify path to input mbox (default: mbox)") (dt "--order=N") (dd "specify order of form id (default: 3)") (dt "--prefix=STRING") (dd "specify prefix for text page title (default: Form Submission)") (dt "--write-alist=FILE") (dd "write an alist representation to FILE") (dt "--read-alist=FILE") (dd "read an alist representation from FILE (mbox-path is ignored)") (dt "-h, --help") (dd "Print help"))) (section 3 "Authors" (p "Ivan Raikov")) (section 3 "Version" (dl (dt "3.3") (dd "Update to reflect the API of rb-tree 4.0") (dt "3.2") (dd "Added missing dependency on byte-blob-stream"))) (section 3 "License" (pre "Copyright 2008-2010 Ivan Raikov and the Okinawa Institute of Science\nand Technology.\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or (at\nyour option) any later version.\n\nThis program is distributed in the hope that it will be useful, but\nWITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\nGeneral Public License for more details.\n\nA full copy of the GPL license can be found at\n<http://www.gnu.org/licenses/>."))))